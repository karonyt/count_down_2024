<html>
  <head>
    <link rel="stylesheet" href="https://karonyt.github.io/count_down_2023/stylesheet.css" />
  </head>
  <div id="mainArea">
    <font size="10" color="#ff7f50" face="ＭＳ Ｐ明朝,ＭＳ 明朝"><p id="RealtimeCountdownArea"></p></font>
    <script>
    function showCountdown() {
      var nowDate = new Date();
      var dnumNow = nowDate.getTime();
      dnumNow = Math.round (dnumNow / 1000) * 1000;
      var inputYear  = 2024
      var inputMonth = 0
      var inputDate  = 1
      var inputHour  = 0
      var inputMin   = 0
      var inputSec   = 0
      var inputYear2  = 2024
      var inputMonth2 = 11
      var inputDate2  = 31
      var inputHour2  = 23
      var inputMin2   = 59
      var inputSec2   = 0
      var targetDate2 = new Date( inputYear2, inputMonth2, inputDate2, inputHour2, inputMin2, inputSec2 );
      var dnumTarget2 = targetDate2.getTime();
      var diff2Dates3 = dnumTarget2 - dnumNow;
      if( dnumTarget2 < dnumNow ) {
         diff2Dates3 *= -1;
      }
      var targetDate = new Date( inputYear, inputMonth, inputDate, inputHour, inputMin, inputSec );
      var dnumTarget = targetDate.getTime();
      var diff2Dates = dnumTarget - dnumNow;
      if( dnumTarget < dnumNow ) {
        // 期限が過ぎた場合は -1 を掛けて正の値に変換
        diff2Dates *= -1;
      }
      var dDays  = diff2Dates / ( 1000 * 60 * 60 * 24 );  // 日数
      diff2Dates = diff2Dates % ( 1000 * 60 * 60 * 24 );
      var dHour  = diff2Dates / ( 1000 * 60 * 60 );   // 時間
      diff2Dates = diff2Dates % ( 1000 * 60 * 60 );
      var dMin   = diff2Dates / ( 1000 * 60 );    // 分
      diff2Dates = diff2Dates % ( 1000 * 60 );
      var dSec   = diff2Dates / 1000; // 秒
      var msg2 = Math.floor(dDays) + "日" + Math.floor(dHour) + "時間" + Math.floor(dMin) + "分" + Math.floor(dSec) + "秒";
      var msg;
      var music = new Audio('music.mp3');
      console.log( dnumTarget2 - dnumNow )
      if( diff2Dates3 == 0 ) {
         
         music.play();
      }
      if( dnumTarget > dnumNow ) {
        // まだ期限が来ていない場合
        msg = "お正月" + "までは、あと" + msg2 + "です。";
      } else {
        // 期限が過ぎた場合
        msg = "お正月" + "は、既に" + msg2 + "前に過ぎました。";
      }
      document.getElementById("RealtimeCountdownArea").innerHTML = msg;
    }
    setInterval('showCountdown()',1000);
    </script>
  
  
  </div>
</html>
